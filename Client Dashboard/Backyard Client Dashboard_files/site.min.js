(function(a){a.fn.hoverIntent=function(i,j){var b={sensitivity:7,interval:100,timeout:0};b=a.extend(b,j?{over:i,out:j}:i);var d,e,l,m;var n=function(f){d=f.pageX;e=f.pageY};var c=function(f,g){g.hoverIntent_t=clearTimeout(g.hoverIntent_t);if((Math.abs(l-d)+Math.abs(m-e))<b.sensitivity){a(g).unbind("mousemove",n);g.hoverIntent_s=1;return b.over.apply(g,[f])}else{l=d;m=e;g.hoverIntent_t=setTimeout(function(){c(f,g)},b.interval)}};var h=function(f,g){g.hoverIntent_t=clearTimeout(g.hoverIntent_t);g.hoverIntent_s=0;return b.out.apply(g,[f])};var k=function(f){var g=jQuery.extend({},f);var o=this;if(o.hoverIntent_t){o.hoverIntent_t=clearTimeout(o.hoverIntent_t)}if(f.type=="mouseenter"){l=g.pageX;m=g.pageY;a(o).bind("mousemove",n);if(o.hoverIntent_s!=1){o.hoverIntent_t=setTimeout(function(){c(g,o)},b.interval)}}else{a(o).unbind("mousemove",n);if(o.hoverIntent_s==1){o.hoverIntent_t=setTimeout(function(){h(g,o)},b.timeout)}}};return this.bind("mouseenter",k).bind("mouseleave",k)}})(jQuery);
/*
 * jQuery Tools v1.2.7 - The missing UI library for the Web
 * 
 * dateinput/dateinput.js
 * overlay/overlay.js
 * tabs/tabs.js
 * toolbox/toolbox.expose.js
 * toolbox/toolbox.history.js
 * tooltip/tooltip.js
 * 
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 * 
 * http://flowplayer.org/tools/
 * 
 */
(function(p,q){p.tools=p.tools||{version:"v1.2.7"};var r=[],s={},t,u=[75,76,38,39,74,72,40,37],v={};t=p.tools.dateinput={conf:{format:"mm/dd/yy",formatter:"default",selectors:!1,yearRange:[-5,5],lang:"en",offset:[0,0],speed:0,firstDay:0,min:q,max:q,trigger:0,toggle:0,editable:0,css:{prefix:"cal",input:"date",root:0,head:0,title:0,prev:0,next:0,month:0,year:0,days:0,body:0,weeks:0,today:0,current:0,week:0,off:0,sunday:0,focus:0,disabled:0,trigger:0}},addFormatter:function(c,d){s[c]=d},localize:function(a,d){p.each(d,function(c,e){d[c]=e.split(",")}),v[a]=d}},t.localize("en",{months:"January,February,March,April,May,June,July,August,September,October,November,December",shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec",days:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",shortDays:"Sun,Mon,Tue,Wed,Thu,Fri,Sat"});function w(c,d){return(new Date(c,d+1,0)).getDate()}function x(c,d){c=""+c,d=d||2;while(c.length<d){c="0"+c}return c}var y=p("<a/>");function z(d,g,i,j){var o=g.getDate(),E=g.getDay(),F=g.getMonth(),G=g.getFullYear(),H={d:o,dd:x(o),ddd:v[j].shortDays[E],dddd:v[j].days[E],m:F+1,mm:x(F+1),mmm:v[j].shortMonths[F],mmmm:v[j].months[F],yy:String(G).slice(2),yyyy:G},I=s[d](i,g,H,j);return y.html(I).html()}t.addFormatter("default",function(e,f,g,h){return e.replace(/d{1,4}|m{1,4}|yy(?:yy)?|"[^"]*"|'[^']*'/g,function(b){return b in g?g[b]:b})}),t.addFormatter("prefixed",function(e,f,g,h){return e.replace(/%(d{1,4}|m{1,4}|yy(?:yy)?|"[^"]*"|'[^']*')/g,function(c,d){return d in g?g[d]:c})});function A(b){return parseInt(b,10)}function B(c,d){return c.getFullYear()===d.getFullYear()&&c.getMonth()==d.getMonth()&&c.getDate()==d.getDate()}function C(b){if(b!==q){if(b.constructor==Date){return b}if(typeof b=="string"){var e=b.split("-");if(e.length==3){return new Date(A(e[0]),A(e[1])-1,A(e[2]))}if(!/^-?\d+$/.test(b)){return}b=A(b)}var f=new Date;f.setDate(f.getDate()+b);return f}}function D(f,h){var O=this,Q=new Date,W=Q.getFullYear(),X=h.css,Y=v[h.lang],Z=p("#"+X.root),aa=Z.find("#"+X.title),ab,ac,ad,ae,af,ag,ah=f.attr("data-value")||h.value||f.val(),a=f.attr("min")||h.min,b=f.attr("max")||h.max,c,g;a===0&&(a="0"),ah=C(ah)||Q,a=C(a||new Date(W+h.yearRange[0],1,1)),b=C(b||new Date(W+h.yearRange[1]+1,1,-1));if(!Y){throw"Dateinput: invalid language: "+h.lang}if(f.attr("type")=="date"){var g=f.clone(),k=g.wrap("<div/>").parent().html(),l=p(k.replace(/type/i,"type=text data-orig-type"));h.value&&l.val(h.value),f.replaceWith(l),f=l}f.addClass(X.input);var m=f.add(O);if(!Z.length){Z=p("<div><div><a/><div/><a/></div><div><div/><div/></div></div>").hide().css({position:"absolute"}).attr("id",X.root),Z.children().eq(0).attr("id",X.head).end().eq(1).attr("id",X.body).children().eq(0).attr("id",X.days).end().eq(1).attr("id",X.weeks).end().end().end().find("a").eq(0).attr("id",X.prev).end().eq(1).attr("id",X.next),aa=Z.find("#"+X.head).find("div").attr("id",X.title);if(h.selectors){var n=p("<select/>").attr("id",X.month),P=p("<select/>").attr("id",X.year);aa.html(n.add(P))}var R=Z.find("#"+X.days);for(var S=0;S<7;S++){R.append(p("<span/>").text(Y.shortDays[(S+h.firstDay)%7]))}p("body").append(Z)}h.trigger&&(ab=p("<a/>").attr("href","#").addClass(X.trigger).click(function(d){h.toggle?O.toggle():O.show();return d.preventDefault()}).insertAfter(f));var T=Z.find("#"+X.weeks);P=Z.find("#"+X.year),n=Z.find("#"+X.month);function U(d,i,j){ah=d,ae=d.getFullYear(),af=d.getMonth(),ag=d.getDate(),j||(j=p.Event("api")),j.type=="click"&&!p.browser.msie&&f.focus(),j.type="beforeChange",m.trigger(j,[d]);j.isDefaultPrevented()||(f.val(z(i.formatter,d,i.format,i.lang)),j.type="change",m.trigger(j),f.data("date",d),O.hide(j))}function V(d){d.type="onShow",m.trigger(d),p(document).on("keydown.d",function(i){if(i.ctrlKey){return !0}var j=i.keyCode;if(j==8||j==46){f.val("");return O.hide(i)}if(j==27||j==9){return O.hide(i)}if(p(u).index(j)>=0){if(!c){O.show(i);return i.preventDefault()}var o=p("#"+X.weeks+" a"),E=p("."+X.focus),F=o.index(E);E.removeClass(X.focus);if(j==74||j==40){F+=7}else{if(j==75||j==38){F-=7}else{if(j==76||j==39){F+=1}else{if(j==72||j==37){F-=1}}}}F>41?(O.addMonth(),E=p("#"+X.weeks+" a:eq("+(F-42)+")")):F<0?(O.addMonth(-1),E=p("#"+X.weeks+" a:eq("+(F+42)+")")):E=o.eq(F),E.addClass(X.focus);return i.preventDefault()}if(j==34){return O.addMonth()}if(j==33){return O.addMonth(-1)}if(j==36){return O.today()}j==13&&(p(i.target).is("select")||p("."+X.focus).click());return p([16,17,18,9]).index(j)>=0}),p(document).on("click.d",function(e){var i=e.target;!p(i).parents("#"+X.root).length&&i!=f[0]&&(!ab||i!=ab[0])&&O.hide(e)})}p.extend(O,{show:function(d){if(!(f.attr("readonly")||f.attr("disabled")||c)){d=d||p.Event(),d.type="onBeforeShow",m.trigger(d);if(d.isDefaultPrevented()){return}p.each(r,function(){this.hide()}),c=!0,n.off("change").change(function(){O.setValue(A(P.val()),A(p(this).val()))}),P.off("change").change(function(){O.setValue(A(p(this).val()),A(n.val()))}),ac=Z.find("#"+X.prev).off("click").click(function(i){ac.hasClass(X.disabled)||O.addMonth(-1);return !1}),ad=Z.find("#"+X.next).off("click").click(function(i){ad.hasClass(X.disabled)||O.addMonth();return !1}),O.setValue(ah);var e=f.offset();/iPad/i.test(navigator.userAgent)&&(e.top-=p(window).scrollTop()),Z.css({top:e.top+f.outerHeight({margins:!0})+h.offset[0],left:e.left+h.offset[1]}),h.speed?Z.show(h.speed,function(){V(d)}):(Z.show(),V(d));return O}},setValue:function(e,i,I){var M=A(i)>=-1?new Date(A(e),A(i),A(I==q||isNaN(I)?1:I)):e||ah;M<a?M=a:M>b&&(M=b),typeof e=="string"&&(M=C(e)),e=M.getFullYear(),i=M.getMonth(),I=M.getDate(),i==-1?(i=11,e--):i==12&&(i=0,e++);if(!c){U(M,h);return O}af=i,ae=e,ag=I;var aj=new Date(e,i,1-h.firstDay),al=aj.getDay(),am=w(e,i),an=w(e,i-1),j;if(h.selectors){n.empty(),p.each(Y.months,function(o,E){a<new Date(e,o+1,1)&&b>new Date(e,o,0)&&n.append(p("<option/>").html(E).attr("value",o))}),P.empty();var H=Q.getFullYear();for(var L=H+h.yearRange[0];L<H+h.yearRange[1];L++){a<new Date(L+1,0,1)&&b>new Date(L,0,0)&&P.append(p("<option/>").text(L))}n.val(i),P.val(e)}else{aa.html(Y.months[i]+" "+e)}T.empty(),ac.add(ad).removeClass(X.disabled);for(var N=al?0:-7,ai,ak;N<(al?42:35);N++){ai=p("<a/>"),N%7===0&&(j=p("<div/>").addClass(X.week),T.append(j)),N<al?(ai.addClass(X.off),ak=an-al+N+1,M=new Date(e,i-1,ak)):N<al+am?(ak=N-al+1,M=new Date(e,i,ak),B(ah,M)?ai.attr("id",X.current).addClass(X.focus):B(Q,M)&&ai.attr("id",X.today)):(ai.addClass(X.off),ak=N-am-al+1,M=new Date(e,i+1,ak)),a&&M<a&&ai.add(ac).addClass(X.disabled),b&&M>b&&ai.add(ad).addClass(X.disabled),ai.attr("href","#"+ak).text(ak).data("date",M),j.append(ai)}T.find("a").click(function(d){var o=p(this);o.hasClass(X.disabled)||(p("#"+X.current).removeAttr("id"),o.attr("id",X.current),U(o.data("date"),h,d));return !1}),X.sunday&&T.find("."+X.week).each(function(){var d=h.firstDay?7-h.firstDay:0;p(this).children().slice(d,d+1).addClass(X.sunday)});return O},setMin:function(d,e){a=C(d),e&&ah<a&&O.setValue(a);return O},setMax:function(d,e){b=C(d),e&&ah>b&&O.setValue(b);return O},today:function(){return O.setValue(Q)},addDay:function(d){return this.setValue(ae,af,ag+(d||1))},addMonth:function(e){var i=af+(e||1),j=w(ae,i),o=ag<=j?ag:j;return this.setValue(ae,i,o)},addYear:function(d){return this.setValue(ae+(d||1),af,ag)},destroy:function(){f.add(document).off("click.d keydown.d"),Z.add(ab).remove(),f.removeData("dateinput").removeClass(X.input),g&&f.replaceWith(g)},hide:function(d){if(c){d=p.Event(),d.type="onHide",m.trigger(d);if(d.isDefaultPrevented()){return}p(document).off("click.d keydown.d"),Z.hide(),c=!1}return O},toggle:function(){return O.isOpen()?O.hide():O.show()},getConf:function(){return h},getInput:function(){return f},getCalendar:function(){return Z},getValue:function(d){return d?z(h.formatter,ah,d,h.lang):ah},isOpen:function(){return c}}),p.each(["onBeforeShow","onShow","change","onHide"],function(d,e){p.isFunction(h[e])&&p(O).on(e,h[e]),O[e]=function(i){i&&p(O).on(e,i);return O}}),h.editable||f.on("focus.d click.d",O.show).keydown(function(d){var e=d.keyCode;if(c||p(u).index(e)<0){(e==8||e==46)&&f.val("")}else{O.show(d);return d.preventDefault()}return d.shiftKey||d.ctrlKey||d.altKey||e==9?!0:d.preventDefault()}),C(f.val())&&U(ah,h)}p.expr[":"].date=function(a){var d=a.getAttribute("type");return d&&d=="date"||p(a).data("dateinput")},p.fn.dateinput=function(a){if(this.data("dateinput")){return this}a=p.extend(!0,{},t.conf,a),p.each(a.css,function(b,d){!d&&b!="prefix"&&(a.css[b]=(a.css.prefix||"")+(d||b))});var c;this.each(function(){var b=new D(p(this),a);r.push(b);var d=b.getInput().data("dateinput",b);c=c?c.add(d):d});return c?c:this}})(jQuery);(function(e){e.tools=e.tools||{version:"v1.2.7"},e.tools.overlay={addEffect:function(c,i,j){g[c]=[i,j]},conf:{close:null,closeOnClick:!0,closeOnEsc:!0,closeSpeed:"fast",effect:"default",fixed:!e.browser.msie||e.browser.version>6,left:"center",load:!1,mask:null,oneInstance:!0,speed:"normal",target:null,top:"10%"}};var f=[],g={};e.tools.overlay.addEffect("default",function(a,i){var j=this.getConf(),k=e(window);j.fixed||(a.top+=k.scrollTop(),a.left+=k.scrollLeft()),a.position=j.fixed?"fixed":"absolute",this.getOverlay().css(a).fadeIn(j.speed,i)},function(b){this.getOverlay().fadeOut(this.getConf().closeSpeed,b)});function h(a,b){var c=this,o=a.add(c),p=e(window),q,r,s,t=e.tools.expose&&(b.mask||b.expose),u=Math.random().toString().slice(10);t&&(typeof t=="string"&&(t={color:t}),t.closeOnClick=t.closeOnEsc=!1);var v=b.target||a.attr("rel");r=v?e(v):null||a;if(!r.length){throw"Could not find Overlay: "+v}a&&a.index(r)==-1&&a.click(function(d){c.load(d);return d.preventDefault()}),e.extend(c,{load:function(j){if(c.isOpened()){return c}var k=g[b.effect];if(!k){throw'Overlay: cannot find effect : "'+b.effect+'"'}b.oneInstance&&e.each(f,function(){this.close(j)}),j=j||e.Event(),j.type="onBeforeLoad",o.trigger(j);if(j.isDefaultPrevented()){return c}s=!0,t&&e(r).expose(t);var l=b.top,m=b.left,w=r.outerWidth({margin:!0}),x=r.outerHeight({margin:!0});typeof l=="string"&&(l=l=="center"?Math.max((p.height()-x)/2,0):parseInt(l,10)/100*p.height()),m=="center"&&(m=Math.max((p.width()-w)/2,0)),k[0].call(c,{top:l,left:m},function(){s&&(j.type="onLoad",o.trigger(j))}),t&&b.closeOnClick&&e.mask.getMask().one("click",c.close),b.closeOnClick&&e(document).on("click."+u,function(d){e(d.target).parents(r).length||c.close(d)}),b.closeOnEsc&&e(document).on("keydown."+u,function(d){d.keyCode==27&&c.close(d)});return c},close:function(d){if(!c.isOpened()){return c}d=d||e.Event(),d.type="onBeforeClose",o.trigger(d);if(!d.isDefaultPrevented()){s=!1,g[b.effect][1].call(c,function(){d.type="onClose",o.trigger(d)}),e(document).off("click."+u+" keydown."+u),t&&e.mask.close();return c}},getOverlay:function(){return r},getTrigger:function(){return a},getClosers:function(){return q},isOpened:function(){return s},getConf:function(){return b}}),e.each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","),function(d,i){e.isFunction(b[i])&&e(c).on(i,b[i]),c[i]=function(j){j&&e(c).on(i,j);return c}}),q=r.find(b.close||".close"),!q.length&&!b.close&&(q=e('<a class="close"></a>'),r.prepend(q)),q.click(function(d){c.close(d)}),b.load&&c.load()}e.fn.overlay=function(a){var b=this.data("overlay");if(b){return b}e.isFunction(a)&&(a={onBeforeLoad:a}),a=e.extend(!0,{},e.tools.overlay.conf,a),this.each(function(){b=new h(e(this),a),f.push(b),e(this).data("overlay",b)});return a.api?b:this}})(jQuery);(function(f){f.tools=f.tools||{version:"v1.2.7"},f.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialEffect:!1,initialIndex:0,event:"click",rotate:!1,slideUpSpeed:400,slideDownSpeed:400,history:!1},addEffect:function(b,d){g[b]=d}};var g={"default":function(c,d){this.getPanes().hide().eq(c).show(),d.call()},fade:function(k,l){var m=this.getConf(),n=m.fadeOutSpeed,o=this.getPanes();n?o.fadeOut(n):o.hide(),o.eq(k).fadeIn(m.fadeInSpeed,l)},slide:function(d,e){var k=this.getConf();this.getPanes().slideUp(k.slideUpSpeed),this.getPanes().eq(d).slideDown(k.slideDownSpeed,e)},ajax:function(c,d){this.getPanes().eq(0).load(this.getTabs().eq(c).attr("href"),d)}},h,i;f.tools.tabs.addEffect("horizontal",function(a,c){if(!h){var d=this.getPanes().eq(a),k=this.getCurrentPane();i||(i=this.getPanes().eq(0).width()),h=!0,d.show(),k.animate({width:0},{step:function(b){d.css("width",i-b)},complete:function(){f(this).hide(),c.call(),h=!1}}),k.length||(c.call(),h=!1)}});function j(a,b,k){var l=this,m=a.add(this),n=a.find(k.tabs),o=b.jquery?b:a.children(b),p;n.length||(n=a.children()),o.length||(o=a.parent().find(b)),o.length||(o=f(b)),f.extend(this,{click:function(c,e){var q=n.eq(c),r=!a.data("tabs");typeof c=="string"&&c.replace("#","")&&(q=n.filter('[href*="'+c.replace("#","")+'"]'),c=Math.max(n.index(q),0));if(k.rotate){var s=n.length-1;if(c<0){return l.click(s,e)}if(c>s){return l.click(0,e)}}if(!q.length){if(p>=0){return l}c=k.initialIndex,q=n.eq(c)}if(c===p){return l}e=e||f.Event(),e.type="onBeforeClick",m.trigger(e,[c]);if(!e.isDefaultPrevented()){var t=r?k.initialEffect&&k.effect||"default":k.effect;g[t].call(l,c,function(){p=c,e.type="onClick",m.trigger(e,[c])}),n.removeClass(k.current),q.addClass(k.current);return l}},getConf:function(){return k},getTabs:function(){return n},getPanes:function(){return o},getCurrentPane:function(){return o.eq(p)},getCurrentTab:function(){return n.eq(p)},getIndex:function(){return p},next:function(){return l.click(p+1)},prev:function(){return l.click(p-1)},destroy:function(){n.off(k.event).removeClass(k.current),o.find('a[href^="#"]').off("click.T");return l}}),f.each("onBeforeClick,onClick".split(","),function(d,e){f.isFunction(k[e])&&f(l).on(e,k[e]),l[e]=function(c){c&&f(l).on(e,c);return l}}),k.history&&f.fn.history&&(f.tools.history.init(n),k.event="history"),n.each(function(c){f(this).on(k.event,function(d){l.click(c,d);return d.preventDefault()})}),o.find('a[href^="#"]').on("click.T",function(c){l.click(f(this).attr("href"),c)}),location.hash&&k.tabs=="a"&&a.find('[href="'+location.hash+'"]').length?l.click(location.hash):(k.initialIndex===0||k.initialIndex>0)&&l.click(k.initialIndex)}f.fn.tabs=function(a,e){var k=this.data("tabs");k&&(k.destroy(),this.removeData("tabs")),f.isFunction(e)&&(e={onBeforeClick:e}),e=f.extend({},f.tools.tabs.conf,e),this.each(function(){k=new j(f(this),a,e),f(this).data("tabs",k)});return e.api?k:this}})(jQuery);(function(j){j.tools=j.tools||{version:"v1.2.7"};var k;k=j.tools.expose={conf:{maskId:"exposeMask",loadSpeed:"slow",closeSpeed:"fast",closeOnClick:!0,closeOnEsc:!0,zIndex:9998,opacity:0.8,startOpacity:0,color:"#fff",onLoad:null,onClose:null}};function l(){if(j.browser.msie){var a=j(document).height(),d=j(window).height();return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a-d<20?d:a]}return[j(document).width(),j(document).height()]}function m(a){if(a){return a.call(j.mask)}}var n,o,p,q,r;j.mask={load:function(a,b){if(p){return this}typeof a=="string"&&(a={color:a}),a=a||q,q=a=j.extend(j.extend({},k.conf),a),n=j("#"+a.maskId),n.length||(n=j("<div/>").attr("id",a.maskId),j("body").append(n));var c=l();n.css({position:"absolute",top:0,left:0,width:c[0],height:c[1],display:"none",opacity:a.startOpacity,zIndex:a.zIndex}),a.color&&n.css("backgroundColor",a.color);if(m(a.onBeforeLoad)===!1){return this}a.closeOnEsc&&j(document).on("keydown.mask",function(d){d.keyCode==27&&j.mask.close(d)}),a.closeOnClick&&n.on("click.mask",function(d){j.mask.close(d)}),j(window).on("resize.mask",function(){j.mask.fit()}),b&&b.length&&(r=b.eq(0).css("zIndex"),j.each(b,function(){var d=j(this);/relative|absolute|fixed/i.test(d.css("position"))||d.css("position","relative")}),o=b.css({zIndex:Math.max(a.zIndex+1,r=="auto"?0:r)})),n.css({display:"block"}).fadeTo(a.loadSpeed,a.opacity,function(){j.mask.fit(),m(a.onLoad),p="full"}),p=!0;return this},close:function(){if(p){if(m(q.onBeforeClose)===!1){return this}n.fadeOut(q.closeSpeed,function(){m(q.onClose),o&&o.css({zIndex:r}),p=!1}),j(document).off("keydown.mask"),n.off("click.mask"),j(window).off("resize.mask")}return this},fit:function(){if(p){var b=l();n.css({width:b[0],height:b[1]})}},getMask:function(){return n},isLoaded:function(b){return b?p=="full":p},getConf:function(){return q},getExposed:function(){return o}},j.fn.mask=function(a){j.mask.load(a);return this},j.fn.expose=function(a){j.mask.load(a,this);return this}})(jQuery);(function(g){var h,i,j,k;g.tools=g.tools||{version:"v1.2.7"},g.tools.history={init:function(a){k||(g.browser.msie&&g.browser.version<"8"?i||(i=g("<iframe/>").attr("src","javascript:false;").hide().get(0),g("body").append(i),setInterval(function(){var b=i.contentWindow.document,c=b.location.hash;h!==c&&g(window).trigger("hash",c)},100),l(location.hash||"#")):setInterval(function(){var b=location.hash;b!==h&&g(window).trigger("hash",b)},100),j=j?j.add(a):a,a.click(function(c){var e=g(this).attr("href");i&&l(e);if(e.slice(0,1)!="#"){location.href="#"+e;return c.preventDefault()}}),k=!0)}};function l(c){if(c){var d=i.contentWindow.document;d.open().close(),d.location.hash=c}}g(window).on("hash",function(a,b){b?j.filter(function(){var c=g(this).attr("href");return c==b||c==b.replace("#","")}).trigger("history",[b]):j.eq(0).trigger("history",[b]),h=b}),g.fn.history=function(a){g.tools.history.init(this);return this.on("history",a)}})(jQuery);(function(e){e.tools=e.tools||{version:"v1.2.7"},e.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,fadeIE:!1,position:["top","center"],offset:[0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(b,i,j){f[b]=[i,j]}};var f={toggle:[function(i){var j=this.getConf(),k=this.getTip(),l=j.opacity;l<1&&k.css({opacity:l}),k.show(),i.call()},function(b){this.getTip().hide(),b.call()}],fade:[function(a){var d=this.getConf();!e.browser.msie||d.fadeIE?this.getTip().fadeTo(d.fadeInSpeed,d.opacity,a):(this.getTip().show(),a())},function(a){var d=this.getConf();!e.browser.msie||d.fadeIE?this.getTip().fadeOut(d.fadeOutSpeed,a):(this.getTip().hide(),a())}]};function g(a,j,k){var l=k.relative?a.position().top:a.offset().top,m=k.relative?a.position().left:a.offset().left,n=k.position[0];l-=j.outerHeight()-k.offset[0],m+=a.outerWidth()+k.offset[1],/iPad/i.test(navigator.userAgent)&&(l-=e(window).scrollTop());var o=j.outerHeight()+a.outerHeight();n=="center"&&(l+=o/2),n=="bottom"&&(l+=o),n=k.position[1];var p=j.outerWidth()+a.outerWidth();n=="center"&&(m-=p/2),n=="left"&&(m-=p);return{top:l,left:m}}function h(a,b){var c=this,s=a.add(c),t,u=0,v=0,w=a.attr("title"),x=a.attr("data-tooltip"),y=f[b.effect],z,A=a.is(":input"),B=A&&a.is(":checkbox, :radio, select, :button, :submit"),C=a.attr("type"),D=b.events[C]||b.events[A?B?"widget":"input":"def"];if(!y){throw'Nonexistent effect "'+b.effect+'"'}D=D.split(/,\s*/);if(D.length!=2){throw"Tooltip: bad events configuration for "+C}a.on(D[0],function(d){clearTimeout(u),b.predelay?v=setTimeout(function(){c.show(d)},b.predelay):c.show(d)}).on(D[1],function(d){clearTimeout(v),b.delay?u=setTimeout(function(){c.hide(d)},b.delay):c.hide(d)}),w&&b.cancelDefault&&(a.removeAttr("title"),a.data("title",w)),e.extend(c,{show:function(d){if(!t){x?t=e(x):b.tip?t=e(b.tip).eq(0):w?t=e(b.layout).addClass(b.tipClass).appendTo(document.body).hide().append(w):(t=a.next(),t.length||(t=a.parent().next()));if(!t.length){throw"Cannot find tooltip for "+a}}if(c.isShown()){return c}t.stop(!0,!0);var i=g(a,t,b);b.tip&&t.html(a.data("title")),d=e.Event(),d.type="onBeforeShow",s.trigger(d,[i]);if(d.isDefaultPrevented()){return c}i=g(a,t,b),t.css({position:"absolute",top:i.top,left:i.left}),z=!0,y[0].call(c,function(){d.type="onShow",z="full",s.trigger(d)});var j=b.events.tooltip.split(/,\s*/);t.data("__set")||(t.off(j[0]).on(j[0],function(){clearTimeout(u),clearTimeout(v)}),j[1]&&!a.is("input:not(:checkbox, :radio), textarea")&&t.off(j[1]).on(j[1],function(k){k.relatedTarget!=a[0]&&a.trigger(D[1].split(" ")[0])}),b.tip||t.data("__set",!0));return c},hide:function(d){if(!t||!c.isShown()){return c}d=e.Event(),d.type="onBeforeHide",s.trigger(d);if(!d.isDefaultPrevented()){z=!1,f[b.effect][1].call(c,function(){d.type="onHide",s.trigger(d)});return c}},isShown:function(d){return d?z=="full":z},getConf:function(){return b},getTip:function(){return t},getTrigger:function(){return a}}),e.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(d,i){e.isFunction(b[i])&&e(c).on(i,b[i]),c[i]=function(j){j&&e(c).on(i,j);return c}})}e.fn.tooltip=function(a){var d=this.data("tooltip");if(d){return d}a=e.extend(!0,{},e.tools.tooltip.conf,a),typeof a.position=="string"&&(a.position=a.position.split(/,?\s/)),this.each(function(){d=new h(e(this),a),e(this).data("tooltip",d)});return a.api?d:this}})(jQuery);var rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;$(function(){$("#account-menu").click(function(f){f.preventDefault()});$(".hoverable").hoverIntent({over:function(){$(this).addClass("hover")},out:function(){$(this).removeClass("hover")},timeout:100});$(".hoverable-fade").hover(function(){$(this).find(".hover").fadeIn(200)},function(){$(this).find(".hover").fadeOut()});$(".drop-down").live("click",function(){$(this).addClass("open").hover(null,function(){$(this).removeClass("open")})});$(".box .show-editor").live("click",function(g){g.preventDefault();var h=$(this);var f=h.closest(".box");var i=f.find(".editor-form");f.find(".body").slideUp(200);i.slideDown(200)});$(".box .hide-editor").live("click",function(g){g.preventDefault();var h=$(this);var f=h.closest(".box");var i=f.find(".editor-form");f.find(".body").slideDown(200);i.slideUp(200)});$("#offers [data-tab]").click(function(){showProductSuite($(this).data("tab"))});$(".slide").hide().slideDown();var a=$("#alerts");var b=a.position().top;var d=function(){if(a.is(".hover")){setTimeout(d,1000)}else{a.animate({top:-a.outerHeight()})}};a.css({top:-a.outerHeight(),display:"block",visibility:"visible"}).animate({top:b}).click(function(){a.animate({top:-a.outerHeight()})}).hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")});setTimeout(d,10000);$(".count-up").each(function(){var f=$(this);var e=parseInt(f.text().replace(",",""));var g=0;var h=Math.ceil(Math.max(e/100,1));f.css({width:f.width(),display:"inline-block"});var j=function(){var k=Math.min(g+=h,e);var l=kFormatter((k).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","));if(k==e){clearInterval(i)}f.html(l)};var i=setInterval(j,1)});$(".pager a").live("click",function(h){var f=$(this);var g=f.closest(".paging-container");if(!g.length){return}var i=g.attr("id");if(!i){return}g.load(f.attr("href")+" #"+i+" >*");h.preventDefault()});$("ul.tabbed").tabs(".panes > div",{history:true});$(".with-tip").tooltip({position:"bottom center"});$("[rel=prettyPhoto]").live("click",function(f){f.preventDefault();var g=$("#img-overlay");if(!g.length){g=$('<div id="img-overlay" style="width: 100%; text-align: center">');$("body").append(g)}g.html($(this).html());var h=$(g).overlay({left:"center",mask:{color:"#000000",opacity:0.8}});if(h.data){h=h.data("overlay")}setTimeout(function(){h.load()},0)});var c=[];$("[data-wizard], [data-wizard] *").live("click",function(g){var h=$(this);var j=h.data("wizard")||h.closest("[data-wizard]").data("wizard");var f=h.data("action")||h.closest("[data-action]").data("action");var i=j+"-"+f;if($.inArray(i,c)>-1){return}c.push(i);$.post("/wizard/complete",{s:j,a:f},function(){refreshWizardProgress()})});arrangeFormActions();$(window).bind("scroll resize",function(){arrangeFormActions()})});function refreshWizardProgress(){$.get(updateQueryStringParameter(location.href,"ts",new Date().getTime()),function(a){var c=$("<div>").append(a.replace(rscript,""));var b=c.find("#wizard-progress > div");$("#wizard-progress").empty();$("#wizard-progress").empty().append(b);b=c.find("#rachel > *");$("#rachel").html(b)})}function handleMissingImageApi(a){$(a).addClass("missing");$(a).closest(".cdn-container").addClass("missing")}function showProductSuite(c){var b=$("#product-suite").overlay({load:true,mask:{color:"#000000",opacity:0.8}});b.load();$("#product-suite").show();var d=$("#product-suite .tabs").tabs("div.panes > div",{onClick:function(){var e=this.getCurrentPane();$("iframe[data-src]",e).each(function(){$(this).attr("src",$(this).data("src"))});$(".slide",e).hide().slideDown()}});var a=d.data("tabs");if(c){a.click("#"+c)}}window._requiredScripts=[];function requireScript(a){if($('script[src="'+a+'"]').length){return}if($.inArray(a,window._requiredScripts)!=-1){return}$("head").append($(unescape('%3Cscript type="text/javascript" src="'+a+'"%3E%3C/script%3E')));window._requiredScripts.push(a)}function requireCss(b){if($.inArray(b,window._requiredScripts)!=-1){return}window._requiredScripts.push(b);var a=document.createElement("link");a.href=b;a.type="text/css";a.rel="stylesheet";$("head")[0].appendChild(a)}function whenReady(a,b){if(a()){b()}else{setTimeout(function(){whenReady(a,b)},100)}}function updateQueryStringParameter(b,c,f){var d=new RegExp("([?|&])"+c+"=.*?(&|$)","i"),e=b.indexOf("?")!==-1?"&":"?";if(b.match(d)){return b.replace(d,"$1"+c+"="+f+"$2")}else{return b+e+c+"="+f}}function arrangeFormActions(){var a=$(".form .actions");if(!a.length){return}var c=Math.min($(window).height(),$("html").height())-a.find(".buttons").height();var b=a[0].getBoundingClientRect();a.toggleClass("sticky",b.bottom>c)}function kFormatter(a){var b=a.replace(",","");if(b>99999){return(b/1000).toFixed(1)+"K"}return a}$(function(){if(!$("form").length){return}requireScript("/Scripts/forms.min.js");wireFormHandlers()});var ajaxId=1;function wireFormHandlers(){var a=0;$('form[data-ajax="true"]').each(function(){var b=$(this);if(b.is("[data-ajax-update]")){return}var d=b.closest(".ajax-target");if(!d.length){return}var c=d[0].id;if(!c){c="target_"+a++;d[0].id=c}b.data("ajax-update","#"+c);b.attr("data-ajax-update","#"+c)});$(".field input, .field select, .field textarea").focus(function(){$(this).closest(".field").addClass("active")}).blur(function(){$(this).closest(".field").removeClass("active")});$(".form select:not(.modernized)").each(function(){var b=$(this);var c=$('<span class="value select-value">SELECT VALUE</span>');b.parent().append(c);b.addClass("modernized");var d=function(){var e=b.find(":selected");c.html(e.text());c.toggleClass("prompt",!e.val())};d();c.click(function(){b.click()});b.change(d)});$.tools.dateinput.localize("en",{months:"January,February,March,April,May,June,July,August,September,October,November,December",shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec",days:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",shortDays:"S,M,T,W,T,F,S"});$(".field-date input").dateinput({offset:[-93,180],trigger:true,speed:0,onBeforeShow:function(){var d=this;var e=$(this.getInput());var c=$(this.getCalendar());var b=c.find(".options");if(b.length){return}b=e.parent().find(".options");c.append(b);b.find("a").click(function(){d.hide()})}});$(".title-nav input.date").each(function(){var c=$(this).val();var b=$(this).dateinput({offset:[5,-24],trigger:true,format:"mmm dd, yyyy",onBeforeShow:function(){var d=$(this);this.setValue(new Date($(this.getInput()).val()))}}).data("dateinput")});$(".clear-value").each(function(){var b=$(this);if(b.data("input")){return}var d=b.parent();var c=d.find("input");while(!c.length&&d.length){d=d.parent();c=d.find("input")}if(c.length>1){return}b.data("input",c)}).live("click",function(b){$(this).data("input").val("");b.preventDefault()});$(".image-form input[type=file]").each(function(){if($(this).data("upload-control")){return}var d=$(this);var b=d.closest(".ajax-refresh");var c="image-"+ajaxId++;d.attr("id",c);function e(k){var g=$(k);b.removeClass("missing").removeClass("uploading");var h=g.find("#"+b.attr("id")).html();b.html("");b.html(h);var i=$("#theme-preview iframe");var j=i.data("src");j=updateQueryStringParameter(j,"ts",new Date().getTime())+i.data("page");i[0].src=j;wireFormHandlers(b);refreshWizardProgress()}var f=new AjaxUpload(c,{action:d.data("upload"),autoSubmit:true,onComplete:function(g,h){e(h)},onSubmit:function(h,g){if(!(g&&/^(jpg|png|jpeg)$/i.test(g))){alert("Oops, images like that aren't allowed.\nPlease select a JPG or PNG file.");return false}b.addClass("uploading")}});$(this).data("upload-control",f);b.find(".delete .btn").click(function(){if(confirm("Delete this image?")){b.addClass("uploading");$.post($(this).data("delete"),function(g,h,i){e(g)})}})});$(".form").each(function(){var c=$(this);var b=c.find(".actions");if(!b.length){return}c.find("input, select, textarea").bind("propertychange keyup input paste set change",function(){arrangeFormActions()})})}(function(a){var b=false;a(document.body).click(function(){b=true});a.extend(a.fn,{youcompleteme:function(c){this.each(function(){var d=a(this);var e=d.data("jerry");if(e){return}e=new a.jerrymaguire(c,d);d.data("jerry",e)});return this},jerrymaguire:function(){return this.data("jerry")}});a.jerrymaguire=function(d,c){this.settings=a.extend(true,{},a.jerrymaguire.defaults,d);this.input=c;this.init()};a.extend(a.jerrymaguire,{defaults:{data:[],staticdata:[],url:null,minChars:1,keyDelay:100,method:"GET",localTrim:true,showNoMatch:false},prototype:{init:function(){var c=this;this.input.keydown(function(d){return c.onkeydown(d)});this.input.blur(function(d){setTimeout(function(){if(b){b=false;c.hideResults()}else{}},200);d.preventDefault()});this.settings=a.extend({createItem:this.createItem,createResults:this.createResults,positionResults:this.positionResults,filterResult:this.filterResult,onSelected:function(d){return d}},this.settings);this.results=this.settings.createResults(this.input).hide();this.input.after(this.results);this.lastData=this.settings.data},shouldRequestData:function(c){c=a.trim(c);if(c.length<this.settings.minChars){return false}return !this.settings.localTrim||!this.lastQ||c.indexOf(this.lastQ)<0},requestResults:function(d){d=a.trim(d);if(!this.shouldRequestData(d)){if(this.lastData){this.updateResults(this.lastData,d)}return}if(this.settings.url){var c=this;this.input.addClass("searching");c.pendingQ++;a.ajax({url:this.settings.url+encodeURIComponent(d),dataType:"json",type:this.settings.method,success:function(e){c.updateResults(e,d);c.pendingQ--;if(c.pendingQ<1){c.input.removeClass("searching")}}})}else{this.updateResults(this.settings.data,d)}},updateResults:function(e,i){this.pendingQ=false;this.lastData=e;this.lastQ=i;this.results.empty();i=a.trim(i);var d=0;var h=a.merge(a.merge([],e||[]),this.settings.staticdata);for(var g=0;g<h.length;g++){var j=h[g];if(typeof j==="String"){j=a.trim(h[g])}if(!i||this.settings.filterResult(j,i)){var f=this.settings.createItem(j,i);f.data("value",j);this.results.append(f);var c=this;f.click(function(){c.useItem(j)});d++}}if(d>0){this.showResults();this.nextItem()}else{if(this.settings.showNoMatch){this.results.append(this.settings.createItem("No matches",i));this.showResults()}else{this.hideResults()}}},filterResult:function(d,c){return d.toLowerCase().indexOf(c.toLowerCase())>-1},showResults:function(){b=false;if(this.results.children().length==0){return}this.settings.positionResults(this.input,this.results);this.results.show();this.resultsVisible=true},hideResults:function(){this.resultsVisible=false;this.results.hide();this.results.empty();if(this.keyTmeout){clearTimeout(this.keyTimeout)}},positionResults:function(c,e){var d=c.offsetParent();e.css({width:c.outerWidth()})},createItem:function(d,c){return a("<div>"+d+"</div>")},createResults:function(d){var c=d.id||d.name;return a('<div id="results-'+c+'" class="youcompleteme-results"></div>').css({position:"absolute",zIndex:10000})},defaultKeyHandler:function(){var c=this;if(c.keyTimeout){clearTimeout(c.keyTimeout)}c.keyTimeout=setTimeout(function(){c.requestResults(c.input.val());c.keyTimeout=null},c.settings.keyDelay)},onkeydown:function(c){if(c.ctrlKey||c.altKey){return}switch(c.keyCode){case 40:if(!this.resultsVisible){this.updateResults(this.lastData,this.lastQ)}else{this.nextItem()}break;case 38:this.previousItem();break;case 27:this.hideResults();break;case 9:if(c.shiftKey){this.hideResults();return}if(!this.resultsVisible){return}this.useSelectedItem();return;case 13:if(this.resultsVisible){this.useSelectedItem()}break;case 33:case 34:case 35:case 36:case 37:case 39:case 144:case 145:return;default:if(c.keyCode>=112&&c.keyCode<=123){return}this.defaultKeyHandler();return}c.preventDefault()},useSelectedItem:function(){this.useItem(this.selectedItem().data("value"))},useItem:function(c){c=this.settings.onSelected(c);this.input.val(c);this.input.change();this.hideResults()},selectedItem:function(){return a(".selected",this.results)},nextItem:function(){var d=this.results;var c=this.selectedItem();d.children().removeClass("selected");if(c.length==0){c=a(d.children()[0])}else{if(c.next().length>0){c=c.next()}}c.addClass("selected");this.makeItemVisible(c)},previousItem:function(){var d=this.results;var c=this.selectedItem();d.children().removeClass("selected");if(c.prev().length>0){c=c.prev()}c.addClass("selected");this.makeItemVisible(c)},makeItemVisible:function(e){var g=this.results.scrollTop();var i=e.position().top+g;var d=e.outerHeight();var c=i+d;var f=(g+this.results.innerHeight())-c;var j=g-i;if(j>0){this.results.scrollTop(i)}else{if(f<0){this.results.scrollTop(g-f)}}}}})})(jQuery);